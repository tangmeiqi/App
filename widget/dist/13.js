webpackJsonp([13],{139:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pointpage",props:[],components:{},data:function(){return{lastPayEstIncome:0,NowPayEstIncome:0,balance:0,nowMoney:0,pointRate:0,avatar:s(173),user:{userName:"",userId:"",userlevel:0},lastStatus:!0,nowStatus:!0,show:0,income:[{payNumber:0,payEstIncome:0,settleNumber:0,settleEstIncome:0},{payNumber:0,payEstIncome:0,settleNumber:0,settleEstIncome:0},{payNumber:0,payEstIncome:0,settleNumber:0,settleEstIncome:0},{payNumber:0,payEstIncome:0,settleNumber:0,settleEstIncome:0}],current:0,pages:4,curX:0,scrollLen:0,verticalScroll:!1,untouching:!0,firstTouchmove:!1}},computed:{level:function(){switch(this.user.userlevel){case 0:return 0;case 1:return"普通会员";case 2:return"超级会员";case 8:return"运营商"}},indicatorLeft:function(){return 25*this.current+"%"},contentWidth:function(){return 100*this.pages+"%"},contentTransform:function(){return"translateX("+(this.curX+this.scrollLen)+"px)"}},methods:{nowMonth:function(){var t=new Date,e=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=e+""+s;return parseInt(n)},lastMonth:function(){var t=new Date;t.setMonth(t.getMonth()-1);var e=t.getFullYear(),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=e+""+s;return parseInt(n)},change:function(t){this.current=t,this.curX=-this.current*document.body.clientWidth},touchstart:function(t){this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY,this.verticalScroll=!1,this.untouching=!1,this.firstTouchmove=!0},touchmove:function(t){if(this.firstTouchmove){this.firstTouchmove=!1;var e=t.touches[0].pageX-this.startX;if(Math.abs(t.touches[0].pageY-this.startY)>Math.abs(e))return void(this.verticalScroll=!0)}if(!this.verticalScroll){var s=t.touches[0].pageX-this.startX;this.scrollLen=s,t.preventDefault(),t.stopPropagation()}},touchend:function(t){this.scrollLen>document.body.clientWidth/4?this.current>0&&this.current--:this.scrollLen<-document.body.clientWidth/4&&this.current<this.pages-1&&this.current++,this.untouching=!0,this.scrollLen=0,this.curX=-this.current*document.body.clientWidth},back:function(){window.history.back(-1)},fetchData:function(){var t=this,e=localStorage.userInfo?JSON.parse(localStorage.userInfo):"{}";this.user.userName=e.userId,this.user.userlevel=e.vipgrade,console.log(this.user.userlevel),this.pointRate=this.$route.query.pointRate,fetch("http://47.97.153.221:8080/app/getUserIncome",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:"userId=12345"}).then(function(t){if(t.ok)return t.json()}).then(function(e){console.log(e.result),t.income[0].payNumber=e.result[0].tdPayNum||0,t.income[0].payEstIncome=e.result[0].tdSettleEstIncome||0,t.income[0].lostNumber=e.result[0].tdLostNum||0,t.income[0].lostEstIncome=e.result[0].tdLostIncome||0,t.income[0].settleNumber=e.result[0].tdSettleNumber||0,t.income[0].settleEstIncome=e.result[0].tdPayEstIncome||0,t.income[1].payNumber=e.result[1].ldPayEstIncome||0,t.income[1].payEstIncome=e.result[1].ldSettleNumber||0,t.income[1].lostNumber=e.result[1].ldLostNum||0,t.income[1].lostEstIncome=e.result[1].ldLostIncome||0,t.income[1].settleNumber=e.result[1].ldPayNum||0,t.income[1].settleEstIncome=e.result[1].ldSettleEstIncome||0,t.income[2].payNumber=e.result[2].tmPayNum||0,t.income[2].payEstIncome=e.result[2].tmPayEstIncome||0,t.NowPayEstIncome=e.result[2].tmPayEstIncome||0,t.income[2].lostNumber=e.result[2].tmLostNum||0,t.income[2].lostEstIncome=e.result[2].tmLostIncome||0,t.income[2].settleNumber=e.result[2].tmSettleNumber||0,t.income[2].settleEstIncome=e.result[2].tmSettleEstIncome||0,t.income[3].payNumber=e.result[3].tmPayNum||0,t.income[3].payEstIncome=e.result[3].tmPayEstIncome||0,t.lastPayEstIncome=e.result[3].tmPayEstIncome||0,t.income[3].lostNumber=e.result[3].ldLostNum||0,t.income[3].lostEstIncome=e.result[3].ldLostIncome||0,t.income[3].settleNumber=e.result[3].tmSettleNumber||0,t.income[3].settleEstIncome=e.result[3].tmSettleEstIncome||0}).catch(function(t){console.log(t)}),fetch("http://47.97.153.221:8080/app/getCashAmountAll",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:"userId=12345"}).then(function(t){if(t.ok)return t.json()}).then(function(e){console.log(e.result),t.nowMoney=e.result||0}).catch(function(t){console.log(t)});var s=this.nowMonth(),n=this.lastMonth();fetch("http://47.97.153.221:8080/app/getSettleStatus",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:"userId=12345&countMonth="+s}).then(function(t){if(t.ok)return t.json()}).then(function(e){0===e.result?t.nowStatus=!0:1===e.result&&(t.nowStatus=!1)}).catch(function(t){console.log(t)}),fetch("http://47.97.153.221:8080/app/getSettleStatus",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:"userId=12345&countMonth="+n}).then(function(t){if(t.ok)return t.json()}).then(function(e){0===e.result?t.lastStatus=!0:1===e.result&&(t.lastStatus=!1)}).catch(function(t){console.log(t)}),fetch("http://47.97.153.221:8080/app/user/pointManager",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:"userId="+e.userId}).then(function(t){if(t.ok)return t.json()}).then(function(e){t.balance=e.userMoneyAmount.toFixed(2)}).catch(function(t){console.log(t)})}},watch:{show:"fetchData"},beforeRouteEnter:function(t,e,s){s(function(t){t.fetchData()})}}},173:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAAAAAAcD2kOAAACpElEQVRo3u3ZW2+bMBQAYJsamChEzYJWLdGkqFX//w/qSypEpizODQgN2MV7m7Yq4XKOnW6T/QY+4ZPBmHMcuiQf0xxiYQtb2MIWtrCFLWxhC/83MIP9TGa5EIK4rhuNYJegkIR+z4vfjsL47jojLpbln8dFMA3Nj1il/MzZeEYNj1guinOn+WnOjM5q+VxcuP/P0iSsFtWlrmqhDMJp0TLnUnNwwdt6eWEMXqK64fC+bO8v94Zgjg6AwbLzGRbSCJxpCQHAuZYQACy0hFj4b865XC0hFu7RIi0hAHikJQQAs85UMmRmXqcYHQCE74L2/uDOEEymqG4EHLbeyzg0BpNZy7XDmcH0ls79S13+nBqECXu6MObwyWwJQ9jj2eccPw4twgD18fsylZCrlKm6CnMK+4vvg7YirpyBWBjXIDOjLk91Ld6ahjjOjet5nwLPPCyyPH/7ddQ0siKEkJsoGrkGZ7XK+OXqKIpH1AwsN7y9UnDjCdMPy+/b7m0d+vkr0wzv0n5FN5uNdcJ10r/yjb552mC+bIYsDbOJntdJLdeDXpQmOU2753f3yqUW66GLw7rH9mInrF4Ow5elw4tCw+meANo+xcJbTkCNb3HwKYF+fZITCk4UFFYJBt4e4R/c4xYOqxXmU79SYPhQYeDqAIY3uOxmA4VljoNzCYQzgmwZEC6xcAmEX7HwKxAWWFhAJxcWhk4uhYUVEPawsAeEJ1h4AoTjAOcGMRB2HkKMGz444PRWrVbQGUbv7ykmr65/bCA0nXzxsAm93O2Grp3BeNyZr/eqJERWHOu+r9Bt2KtU7l0timNZVVXbbae+7we3fevzYdtNqq6ElFLKRjVKKUIpdajDGGPM9b1Bu6jDtiKo7//zuz4WtrCFLWxhC1vYwtdvPwGrwOmguyfJTAAAAABJRU5ErkJggg=="},197:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"point-page"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.show,expression:"show===0"}],staticClass:"point-manage"},[s("div",{staticClass:"top"},[s("div",{staticClass:"point"},[t._v("收益管理")]),t._v(" "),s("div",{staticClass:"back",on:{click:t.back}})]),t._v(" "),s("div",{staticClass:"balance"},[s("span",[t._v("￥"+t._s(t.nowMoney))]),t._v(" "),s("span",[t._v("累计收益结算(元)")]),t._v(" "),s("span",[t._v("账户余额(元)：￥"+t._s(t.balance))])]),t._v(" "),s("div",{staticClass:"scrollbar"},[s("div",{staticClass:"payment-content"},[s("div",[s("div",[t._v("上月预估收入(元)")]),t._v(" "),s("div",[t._v("￥"+t._s(t.lastPayEstIncome))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.lastStatus,expression:"lastStatus"}],staticStyle:{color:"#FA5876"}},[t._v("待结算")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.lastStatus,expression:"!lastStatus"}],staticStyle:{color:"green"}},[t._v("已结算")])]),t._v(" "),s("div",[s("div",[t._v("本月预估收入(元)")]),t._v(" "),s("div",[t._v("￥"+t._s(t.NowPayEstIncome))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.nowStatus,expression:"nowStatus"}],staticStyle:{color:"#FA5876"}},[t._v("待结算")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.nowStatus,expression:"!nowStatus"}],staticStyle:{color:"green"}},[t._v("已结算")])])]),t._v(" "),s("div",{staticClass:"myassets"},[s("div",{staticClass:"tab"},[s("div",{staticClass:"sticky"},[s("ul",{staticClass:"tab-container"},[s("li",{class:{active:0===t.current},on:{click:function(e){t.change(0)}}},[t._v("今日")]),t._v(" "),s("li",{class:{active:1===t.current},on:{click:function(e){t.change(1)}}},[t._v("昨日")]),t._v(" "),s("li",{class:{active:2===t.current},on:{click:function(e){t.change(2)}}},[t._v("本月")]),t._v(" "),s("li",{class:{active:3===t.current},on:{click:function(e){t.change(3)}}},[t._v("上月")]),t._v(" "),s("div",{style:{left:t.indicatorLeft},attrs:{id:"indicator"}})])]),t._v(" "),s("ul",{staticClass:"tab-content",class:{trans:t.untouching},style:{width:t.contentWidth,transform:t.contentTransform}},t._l(t.income,function(e,n){return s("li",{key:n,on:{touchstart:function(e){t.touchstart(e)},touchmove:function(e){t.touchmove(e)},touchend:function(e){t.touchend(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"payment-content"},[s("div",[s("div",[t._v("付款笔数")]),t._v(" "),s("div",[t._v(t._s(e.payNumber)+"笔")])]),t._v(" "),s("div",[s("div",[t._v("付款预估收入")]),t._v(" "),s("div",[t._v("￥"+t._s(e.payEstIncome))])])]),t._v(" "),t._m(1,!0),t._v(" "),s("div",{staticClass:"payment-content"},[s("div",[s("div",[t._v("失效笔数")]),t._v(" "),s("div",[t._v(t._s(e.lostNumber)+"笔")])]),t._v(" "),s("div",[s("div",[t._v("失效预估收入")]),t._v(" "),s("div",[t._v("￥"+t._s(e.lostEstIncome))])])]),t._v(" "),t._m(2,!0),t._v(" "),s("div",{staticClass:"settleAccounts-content"},[s("div",[s("div",[t._v("结算笔数")]),t._v(" "),s("div",[t._v(t._s(e.settleNumber)+"笔")])]),t._v(" "),s("div",[s("div",[t._v("结算预估收入")]),t._v(" "),s("div",[t._v("￥"+t._s(e.settleEstIncome))])])]),t._v(" "),s("div",{staticClass:"footer",staticStyle:{height:"20px"}})])}))])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("付款")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payment"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("失效")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settleAccounts"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" "),s("span",[t._v("结算")])])}]}},79:function(t,e,s){s(!function(){var t=new Error('Cannot find module "!!../../../node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!vue-style-loader!css-loader?{"minimize":true,"sourceMap":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-61fe226f&scoped=true!sass-loader?{"sourceMap":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Income.vue"');throw t.code="MODULE_NOT_FOUND",t}());var n=s(6)(s(139),s(197),"data-v-61fe226f",null);t.exports=n.exports}});